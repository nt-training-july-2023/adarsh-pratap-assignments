{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adars\\\\OneDrive\\\\Desktop\\\\Project\\\\grievance-management-front\\\\src\\\\Pages\\\\AddDepartment.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Modal from \"../components/Modal/Modal\";\nimport { addDepartment } from \"../api/Department_API\";\nimport PopUp from \"../components/PopUp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AddDepartment(props) {\n  _s();\n  const [department, setDepartment] = useState({\n    depName: \"\"\n  });\n  const [deptError, setDeptError] = useState(\"\");\n  const [valid, setValid] = useState({\n    isError: false,\n    errorMessage: \"\"\n  });\n\n  // useEffect(()=>{\n  //   setTimeout(()=>{\n  //     props.set(false);\n  //   },1000)\n  // },[])\n\n  const handleChange = e => {\n    if (valid.isError) {\n      setValid({\n        ...valid,\n        isError: false\n      });\n    }\n    setDepartment({\n      ...department,\n      [e.target.name]: e.target.value\n    });\n  };\n  const isValid = async () => {\n    if (department.depName === \"\") {\n      setValid(prevValid => ({\n        ...prevValid,\n        isError: true,\n        errorMessage: \"Department name can not be empty\"\n      }));\n      return true;\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const flag = isValid();\n    if (!flag) {\n      await addDepartment(department).then(resp => {\n        alert(\"Depatment is Added!!\");\n      }).catch(error => {\n        if (error.code === \"ERR_BAD_REQUEST\") {\n          alert(error.response.data.depName);\n        } else {\n          alert(error.response.data);\n        }\n      });\n    }\n    return;\n  };\n  const fields = [{\n    field: \"Input\",\n    label: \"Department Name\",\n    className: \"details\",\n    type: \"text\",\n    name: \"depName\",\n    value: department.depName,\n    placeholder: \"Enter the Department Name\",\n    onChange: handleChange,\n    isValid: valid.isError,\n    errorMessage: valid.errorMessage\n  }, {\n    field: \"Button\",\n    type: \"submit\",\n    className: \"submit-box\",\n    value: \"Submit\"\n  }];\n  const [popUp, setPopUp] = useState(false);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [popUp && /*#__PURE__*/_jsxDEV(PopUp, {\n      set: setPopUp,\n      header: \"Department\",\n      message: \"Added Sucessfully!!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      set: props.set,\n      header: \"Add Department\",\n      fields: fields,\n      onsubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(AddDepartment, \"HKXXHhaIlv+RUhBJFEv+6Ulxfb0=\");\n_c = AddDepartment;\nexport default AddDepartment;\nvar _c;\n$RefreshReg$(_c, \"AddDepartment\");","map":{"version":3,"names":["React","useEffect","useState","Modal","addDepartment","PopUp","jsxDEV","_jsxDEV","Fragment","_Fragment","AddDepartment","props","_s","department","setDepartment","depName","deptError","setDeptError","valid","setValid","isError","errorMessage","handleChange","e","target","name","value","isValid","prevValid","handleSubmit","preventDefault","flag","then","resp","alert","catch","error","code","response","data","fields","field","label","className","type","placeholder","onChange","popUp","setPopUp","children","set","header","message","fileName","_jsxFileName","lineNumber","columnNumber","onsubmit","_c","$RefreshReg$"],"sources":["C:/Users/adars/OneDrive/Desktop/Project/grievance-management-front/src/Pages/AddDepartment.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"../components/Modal/Modal\";\r\nimport { addDepartment } from \"../api/Department_API\";\r\nimport PopUp from \"../components/PopUp\";\r\n\r\nfunction AddDepartment(props) {\r\n  const [department, setDepartment] = useState({\r\n    depName: \"\",\r\n  });\r\n  const[deptError, setDeptError] = useState(\"\");\r\n\r\n  const [valid, setValid] = useState({\r\n    isError: false,\r\n    errorMessage: \"\",\r\n  });\r\n\r\n \r\n  // useEffect(()=>{\r\n  //   setTimeout(()=>{\r\n  //     props.set(false);\r\n  //   },1000)\r\n  // },[])\r\n\r\n  const handleChange = (e) => {\r\n    if (valid.isError) {\r\n      setValid({\r\n        ...valid,\r\n        isError: false,\r\n      });\r\n    }\r\n    setDepartment({ ...department, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const isValid = async () => {\r\n    if (department.depName === \"\") {\r\n      setValid((prevValid) => ({\r\n        ...prevValid,\r\n        isError: true,\r\n        errorMessage: \"Department name can not be empty\",\r\n      }));\r\n      return true;\r\n      \r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const flag = isValid();\r\n\r\n    if (!flag) {\r\n      await addDepartment(department)\r\n        .then((resp) => {\r\n          alert(\"Depatment is Added!!\");\r\n        })\r\n        .catch((error) => {\r\n          if(error.code === \"ERR_BAD_REQUEST\"){\r\n            alert(error.response.data.depName)\r\n          }\r\n          else{\r\n          alert(error.response.data);\r\n    }\r\n  });\r\n    }\r\n    return;\r\n  };\r\n\r\n\r\n  \r\n  const fields = [\r\n    {\r\n      field: \"Input\",\r\n      label: \"Department Name\",\r\n      className: \"details\",\r\n      type: \"text\",\r\n      name: \"depName\",\r\n      value: department.depName,\r\n      placeholder: \"Enter the Department Name\",\r\n      onChange: handleChange,\r\n      isValid: valid.isError,\r\n      errorMessage: valid.errorMessage,\r\n    },\r\n    {\r\n      field: \"Button\",\r\n      type: \"submit\",\r\n      className: \"submit-box\",\r\n      value: \"Submit\",\r\n    },\r\n  ];\r\n  const [popUp , setPopUp] = useState(false);\r\n  return (\r\n    <>\r\n    {popUp && (<PopUp set={setPopUp} header={\"Department\"} message={\"Added Sucessfully!!\"}/>)}\r\n    <Modal\r\n      set={props.set}\r\n      header={\"Add Department\"}\r\n      fields={fields}\r\n      onsubmit={handleSubmit}\r\n    />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddDepartment;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}